---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-latest","messages":[{"role":"user","content":"Create
        a profile for John Doe, age 30\n\nRespond with valid JSON that matches the
        following schema:\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\":
        {\n      \"type\": \"string\"\n    },\n    \"age\": {\n      \"type\": \"integer\"\n    }\n  },\n  \"required\":
        [\n    \"name\",\n    \"age\"\n  ]\n}\n\nEnsure your response is a valid JSON
        object that strictly follows this schema.\n"}],"system":"You are a helpful
        assistant that responds with valid JSON.","temperature":0.5,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Expect:
      - ''
  response:
    status:
      code: 400
      message: ''
    headers:
      Date:
      - Tue, 04 Mar 2025 06:44:23 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '96'
      X-Should-Retry:
      - 'false'
      Request-Id:
      - req_01AqLZNmrPaksxQhMAcNTZeK
      Anthropic-Organization-Id:
      - d71db89e-12c3-43b2-aacd-1a48746332cd
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - 91af679c1a704545-ATL
    body:
      encoding: ASCII-8BIT
      string: '{"type":"error","error":{"type":"invalid_request_error","message":"max_tokens:
        Field required"}}'
  recorded_at: Tue, 04 Mar 2025 06:44:23 GMT
recorded_with: VCR 6.3.1
